# 你知道vue中key的作用和工作原理吗？说说你对它的理解

1、提高vue更新DOM的性能 ：

 用于diff算法中，使用key管理可复用的元素，减少不必要元素的重新渲染，让必要的元素能够重新渲染 。

如果不使用key，Vue会使用一种算法，最大限度的减少动态元素，尽可能的尝试修复或再利用相同类型的元素。

使用key， Vue会根据keys的顺序记录元素 ，曾经拥有了key的元素如果不再出现的话，会被直接移除，并且会移除key不存在的元素。

有相同父元素的子元素必须有独特的key。

 2、管理可复用的元素 

 Vue尽可能高效地渲染元素，通常复用已有的元素，而不是从头开始渲染 。

### 结论：

1、key的作用主要是为了高效的更新虚拟DOM，其原理是vue在patch过程中通过key可以精准判断两个节点是否是同一个，从而避免频繁更新不同元素，使得整个patch过程更加高效，减少DOM操作量，提高性能;

2、另外，若不设置key还可能在列表更新时引发一些隐藏的bug;

3、vue在使用相同标签名元素的过渡切换时，也会使用到key属性，其目的也是为了让vue可以区分它们，否则vue只会替换其内部属性而不会触发过渡效果。